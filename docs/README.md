# 미션 - 크리스마스 프로모션
<hr/>

## 🔍 개요
- 중복된 할인과 증정을 허용해 고객 입장에서 혜택을 체감할 수 있어야 하며 주최측에서는 지난 5년 중 
최고 판매 금액 달성과 참여 고객중 5%이상의 인원이 다음 프로모션에 재참여 할 수 있도록 유도하는 
것을 목표로 하는 할인, 증정, 배지를 통한 예비 혜택의 기대심리가 결합된 프로모션이다. 
<hr/>

## 📝 기능 목록

### 이벤트
#### 핵심 기능 1. 크리스마스 디데이 할인
- [x] 적용 기간: 2023.12.1 ~ 2023.12.25 (매일)
- [x] 1000원 + ((날짜 - 1) * 100원) 중복 할인을 적용한다.
#### 핵심 기능 2. 평일 할인
- [x] 적용 기간: 2023.12.1 ~ 2023.12.31 (일요일~목요일)
- [x] (디저트 메뉴 총 주문 수량 * 2023)원 중복 할인을 적용한다.
#### 핵심 기능 3. 주말할인
- [x] 적용 기간: 2023.12.1 ~ 2023.12.31 (금요일~토요일)
- [x] (메인 메뉴 총 주문 수량 * 2023)원 중복 할인원 중복 할인을 적용한다.
#### 핵심 기능 4. 특별 할인
- [x] 적용 기간: 2023.12.1 ~ 2023.12.31 (일요일, 크리스마스 당일)
- [x] 총 주문 금액 1000원 중복 할인을 적용한다.
#### 핵심 기능 5. 증정 이벤트
- [x] 적용 기간: 2023.12.1 ~ 2023.12.31
- [x] 할인 전 총 주문 금액이 12만 원 이상일 때, 샴페인 1개 증정한다.
#### 핵심 기능 6. 배지 부여
- [x] 적용 기간: 2023.12.1 ~ 2023.12.31
- [x] 총 혜택 금액 5천 원 이상 : 별
- [x] 총 혜택 금액 1만 원 이상 : 트리
- [x] 총 혜택 금액 2만 원 이상 : 산타
#### 핵심 기능 7. 이벤트 적용
- [x] 총 주문 금액 10,000원 이상이면 핵심 기능 1, 2, 3, 4, 5, 6을 적용한다.

### 입력
#### 입력 기능 1. 예상 방문 날짜 입력
- [x] 유효한 예상 방문 날짜를 입력한다.
- [x] 예외 처리 
  - 양의 정수를 입력하지 않은 경우 
  - 1~31 범위에 해당하지 않는 경우
  - 에러 메세지는 "[ERROR] 유효하지 않은 날짜입니다. 다시 입력해 주세요.” 로 통일한다.
#### 입력 기능 2. 메뉴와 수량 입력
- [x] 유효한 메뉴와 수량을 입력한다.
- [x] 예외 처리
  - 공백인 경우
  - 메뉴 형식에서 하이픈이 없는 경우
  - 존재하지 않는 메뉴 이름을 입력한 경우
  - 메뉴 형식의 수량이 양의 정수가 아닌 경우
  - 메뉴의 수량이 1보다 적은 경우
  - 입력한 주문의 총 수량이 20개를 초과한 경우
  - 중복되는 메뉴 이름을 입력한 경우
  - 음료 메뉴만 입력한 경우
  - 에러 메세지는 “[ERROR] 유효하지 않은 주문입니다. 다시 입력해 주세요." 로 통일한다.

### 출력
#### 출력 기능 1. 혜택 미리 보기
- [x] 혜택 미리보기 안내 메세지 출력
- [x] <주문 메뉴> 출력
  - 출력 순서는 메뉴의 에피타이저, 메인, 디저트, 음료 순서로 정렬하여 출력한다.
- [x] <할인 전 총주문 금액> 출력
- [x] <증정 메뉴> 출력
  - 증정 이벤트에 해당하지 않는 경우, 증정 메뉴 "없음"으로 출력한다.
- [x] <혜택 내역> 출력
  - 고객에게 적용된 이벤트 내역만 출력한다.
  - 적용된 이벤트가 하나도 없다면 혜택 내역 "없음"으로 출력한다.
  - 혜택 내역에 여러 개의 이벤트가 적용된 경우, 출력 순서는 핵심 기능 상위 순서부터 출력한다.
- [x] <총헤택 금액> 출력
  - 총혜택 금액 = 할인 금액의 합계 + 증정 메뉴의 가격
- [x] <할인 후 예상 결제 금액> 출력
  - 할인 후 예상 결제 금액 = 할인 전 총주문 금액 - 할인 금액
- [x] <12월 이벤트 배지> 출력
  - 총혜택 금액에 따라 이벤트 배지의 이름을 다르게 출력한다.
  - 이벤트 배지가 부여되지 않는 경우, "없음"으로 출력한다.
<hr/>

## 🕒 시스템 흐름
1. 고객이 식당에 방문할 날짜를 미리 선택해 입력한다.
   1) 예외 처리 후 유효한 입력을 customer의 visitDate에 저장한다. 
2. 고객이 식당에 주문할 메뉴를 미리 선택해 입력한다.
   1) 예외 처리 후 유효한 입력을 customer의 orderMenu에 저장한다.
3. 이벤트 적용을 요청한다.
   1) 고객의 주문 금액이 10,000원 이상이면 요청에 대한 이벤트 적용 처리를 수행한다. 
   2) 고객의 주문 금액이 10,000원 미만이면 요청에 대한 이벤트 적용 처리는 수행되지 않는다.
4. 이벤트 플래너가 해당하는 미리보기 내용을 출력한다.
   1) 주문 메뉴 
   2) 할인 전 총주문 금액 
   3) 증정 메뉴 
   4) 혜택 내역 
   5) 총혜택 금액 
   6) 할인 후 예상 결제 금액 
   7) 12월 이벤트 배지 
<hr/>

## 🚨 구현 과정 주의 사항
- [x] 입력과 출력은 InputView, OutputView 클래스로 별도 구현한다.
- [x] 적용된 이벤트가 하나도 없는 경우를 고려한다.
- [x] 모든 에러 메시지는 "[ERROR]"로 시작한다.
- [x] 사용자가 잘못된 값을 입력할 경우 IllegalArgumentException를 발생시키고, 
"[ERROR]"로 시작하는 에러 메시지를 출력 후 그 부분부터 입력을 다시 받는다.
- [x] indent(인덴트, 들여쓰기) depth를 3이 넘지 않도록 구현한다.
- [x] 함수(또는 메서드)의 길이가 15라인을 넘어가지 않도록 구현한다.
- [x] JUnit 5와 AssertJ를 이용해 정리한 기능 목록이 정상 동작함을 테스트 코드로 확인한다.
- [x] else 사용을 지양한다.
- [x] 도메인 로직에 단위 테스트를 구현해야 한다.
<hr/>

## 🏁 목표
- [x] 테스트 주도 개발(TDD)로 구현한다.
- [x] 테스트 코드에서 반복적으로 하는 부분을 중복되지 않게 한다.
- [x] Enum Class 를 적극 활용한다.
- [x] README를 구체적으로 작성하고 살아있는 문서 작성을 위해 노력한다.
- [x] 필드의 수를 최소화한다.
- [x] 객체는 객체스럽게 사용한다.
- [x] 객체의 필드는 private으로 접근을 제한하고 val을 사용해 값의 변경을 제한한다.
- [x] Controller가 아닌 InputView에서 입력을 처리한다.
- [x] 예외 처리 과정에서 "^\\d+$" 를 통해 유효한 숫자를 검사한다.
- [x] getter사용을 지양하기 위해 노력하며 객체에게 메세지를 던진다.
<hr/>